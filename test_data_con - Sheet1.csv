Article ID,Title,Content
3708780588,Product Support - Home,"#EAE6FF

Hey there, welcome to the coolest support crew around - Plivo Support! We're
like Batman, but instead of fighting crime, we're here to fight any issues you
might face while using our platform. Our team of superheroes (minus the capes)
are available 24/7 to assist you with anything and everything related to
Plivo. Whether you need help setting up your account, troubleshooting a
problem, or just want to chat about your favourite superhero movie, we've got
you covered. So sit back, relax, and let us handle the heavy lifting. We
promise to be your sidekick for success!

* * *

#  Meet Our Team

## **CUSTOMER SUPPORT CHAMPIONS**

**Shiek Furqaan******| **Vedik Ramesh******  
---|---  
**Abhishek******| **Eric Manning******  
**Ankita******| **Yukthi Mathad******  
**Aravind S******| **Saksham Saraf******  
  
## **DEVELOPER SUPPORT CHAMPIONS**

**Shahbaz Khan******| **Manuja Ezhava******| **Aditi H******  
---|---|---  
**Kiran Kumar******| **Subhodeep Sen******| **Shubham Singh******  
**Mohammed Jazeer******| **Ankita S******| **Steven Decker******  
**Kanneganti Niteesh******| **Srinonti Biswas******| **Smruthi D**  
**Sabah Zakir******| **Isaac Glynn******|  -  
  
## **THE QUALITY TEAM**

**Deblina******| **Sudeep Suresh******| **Swadhin Paul******  
---|---|---  
  
## **THE MANAGEMENT TEAM**

####  \- **Head of Support** (US)

\- **Head of Support** (International)

#####  **\- Senior Manager - Product Support (QA)**

#####  \- **Team Lead (QA)**

#####  **Team Lead (PST)**

* * *

#  **DOCUMENTATIONS:**

:outbox_tray:1f4e4üì§#C0B6F2

#### Messaging

:desktop:1f5a5üñ•Ô∏è#C0B6F2

#### Account Management

:page_with_curl:1f4c3üìÉ#C0B6F2

#### Billing and Payments

:calling:1f4f2üì≤#C0B6F2

#### Phone Numbers

:telephone_receiver:1f4deüìû#C0B6F2

Voice API

:ZT:9fe63e8d-4fe0-42c5-a217-5de00f5c02f2:ZT:#C0B6F2

Zentrunk

:info:atlassian-info#E3FCEF

#### New Hire Training & Onboarding

* * *

**Zendesk**

******OpenSearch**

******RYUK**

******Salesforce**

******Google Drive**

******Mailgun******

**TCR Portal******

**Quick Sight (via AWS)******

**DB Logs******

* * *

  * We are committed to providing exceptional support in all categories by implementing a 100% Service Level Agreement (SLA).

  * Our goal is to resolve all customer issues within the agreed time frame.

  * We strive for a quality score of 98% or higher on ticket audits.

  * We continuously review and improve our processes to ensure high-quality support.

  * To gauge customer satisfaction, we target a CSAT score of 98% or higher for Growth, Mid-market, Enterprise, and Strategic customers.

  * Our ultimate aim is to deliver exceptional customer service and maintain high-quality support operations.

G2 Reviews

* * *

https://www.plivo.com/support-plans/

"
3711140012,Account Breached/Compromised Process,"Support receives queries where the customers report that their accounts are
breached.  
  
**Below are the two different types of scenarios:**

  1. **SMS Pumping Issue**

  2. **Account Compromised**  

**How to understand which type of issue is it?**

  1. **In the case of SMS pumping, there is typically a sudden increase in SMS traffic, particularly OTP (One-Time Password) or ARN (Authorization Code) traffic. Despite the increase in volume, the traffic profile remains consistent, with the same content being sent repeatedly.**

  2. **On the other hand, in instances of compromised authentication IDs or tokens, random traffic starts to appear. This traffic is not consistent and may vary in content.**

**Checklist**

  * We should pull out the MDRs / CDRs for the mentioned period (the timespan of the breach).

  * Analyze the traffic triggered from the account by viewing the message content.

  * If the traffic triggered is in line with their usual message content, then it is the issue of SMS pumping.

**Scenarios**| **What is?**| **Template**| **What to do?**| **Reference
Articles**| **Reference Jira**  
---|---|---|---|---|---  
**SMS Pumping**|  SMS pumping is also referred to as traffic pumping or
artificially inflated traffic (AIT). In this type of telecom fraud, bad actors
use automated systems to trigger sharp spikes in traffic toward numbers they
own and reap a share of the charges generated|  _We should also provide the IP
addresses from which the messages were triggered so that they are aware that
the messages were triggered from their IP itself. We can get the IP from the_
_Quicksight dashboard_ _or we can get them from DevOps Team as well.
__________________________________________________Hello Team,__Greetings for
the day!__Upon reviewing the recent activity on your Plivo account, we've
noticed some irregularities that require your attention. Our team has
validated the details and confirmed that there hasn't been a breach of your
account. However, it appears that your website may be susceptible to SMS
pumping.__To address this issue and prevent further misuse, we recommend
implementing safeguards on your website form where mobile numbers are
requested. You can find detailed instructions on how to safeguard your website
from SMS pumping in_ _this blog post_ _.__Additionally, it's important to note
that customers will still be charged for any messages triggered, but through
the provided feature, customers will be able to set a cap on the maximum auto-
recharge in a day or week.__To further enhance security, we suggest taking the
following actions:_

  * _Enable fraud shield**< <Hyper Link>>**_
  * _Set recharge limit**< <Hyper Link>>**_

_You can find detailed instructions on how to use these features in our_ _FAQs section_ _.__Please let me know if there is anything I can assist you with further._ ________________________________________________| | https://www.plivo.com/blog/sms-pumping/ | _SMS pumping issue_  
**Account Breach**|  Customer complains about his account was
hacked/compromised and unauthorized calls and messages were triggered from
his/her account which resulted in a loss of credit/money and requesting for a
refund.| _Whenever Account Breach is reported, we should initially send the
response to the customers to let them know how to secure their account at the
earliest :__We should also provide the IP addresses from which the
messages/calls were triggered and the login IP 's, We can get the IP from the
__Quicksight dashboard_ _or we can get them from DevOps Team as well.
____________________________________________________Hi Team,_  
_Greetings from Plivo Support!__We have received your request and understand
your account has been breached.__We recommend you use Fraud Shield to help
curb the risk of SMS fraud, such as_ _SMS pumping_ _and_ _account token
takeover_ _. Fraud Shield offers two primary features that operate at the
destination country level: Geo Permissions and Fraud Thresholds._  
_ _  
_Geo Permissions allows you to control the countries to which your SMS traffic
is sent. We 'll block (and not charge for) any messages that are intended for
countries not included in your destination list._  
_ _  
_Fraud Thresholds can be enabled for countries on your designation list. It 's
a limit of how many messages can be set per hour to the countries that you
have approved. This control allows you to take corrective action if the
threshold is breached.__We recommend that you secure your Plivo account
immediately by taking the following steps:_

  * _Change your Plivo Auth Token:__Generate Auth Token_
  *  _Change your login password:__Reset Password_
  *  _Enable two-factor authentication (If not done already):__Profile Settings_
  *  _Restrict your geo permissions to countries that you want to send traffic to:__SMS Geo Permissions_
  *  _Disable voice functionality: Please let us know if you don't want to use voice so we can disable it altogether **(post confirmation from the customer)**._

__We also strongly recommend the below:__

  * _Plivo sends recharge alerts in real-time. If you find any unusual recharge activity, please act on any such alerts immediately._
  * _For SMS, manage your geo permissions_ _here_
  *  _For Voice, manage your geo permissions_ _here_
  *  _Secure your Plivo Auth Token from any public and client-side systems._
  * _Change the auth_token every time an employee with access to the auth_token leaves the company (if applicable)._

_If you have any questions or need further assistance, please feel free to
reach out to our customer support team.__Thank you for your attention to this
matter.___________________________________________________|

  1. We should pull the MDR logs and carefully consider that the account is breached and it is not a case of SMS pumping.
  2. We should be raising a JIRA with the relevant data on the FPT board tagging Rupam and Rajalekshmy.
  3. The below things should be present on the JIRA : 

  * MDR / CDR logs for the duration of the breach.
  * Message content if it is MDR.
  * Total charges incurred during the breach.
  * Email ID and Auth ID.

4\. After investigating the concern, Rupam shall either approve/deny the
refund request on the JIRA and we can let the customers know
accordingly.**_Feature Release_** :The Product Team has now rolled out a new
feature in the console under Payment Settings where the customers can
configure the account balance alerts to minimize the risk of service hindrance
due to low credit.  
The same can be done from the console _here_. We should always encourage customers to set that up.| | _Account Breach issue_  
  
                 

**Point of Contacts**

**and**** _Rajalekshmy Mahadevan_****and all JIRAs should be created on the
FPT board and tag the Finance Team and the respective PMs on the JIRA.**

**Legacy Confluence Articles** :

Account compromised - Reported by the customer

"
3711140211,Outbound Message Delivery Issues,"This document explains most of the possible causes of SMS delivery issues for
outbound messages that are reported by customers and how to resolve them.

Outbound Debugging Flowchart

# Basic Checks:

Before moving into the depth of any investigation, we need to do the basic
checks at our end:

  1. Check the account type of the customer. Whether it is a Developer (free trial) or a Standard account. _Link_

  2. Check if the customer has enough credits in his account. _Link_

  3. Check the _Plivo Status Page_ for any outage updated at our end or the carrier's end on that day and also match the timestamps of the reported issue. 

  4. Check the Plivo error code and carrier error code. 

  5. Check the customer's statistics if he has reported SMS delivery issues towards a particular country or number, in order to find out patterns. We can also try checking if this issue is occurring for multiple customers or a single customer. 

  6. Check if the customer is sending an SMS to a valid destination number. 

  7. Check if the customer is abiding by the country's regulations for the destination country. 

# Message States:

When an outbound message is triggered, the customers get to see the messages
usually in 5 states.

  1. **Queued** : All outbound messages are initially 'Queued' which means that Plivo has 'accepted' the message from a user and will attempt to send the message to the respective downstream carrier for delivery.

  2. **Failed** : This status is updated when Plivo is unable to submit the message to the carrier. This is usually due to an internal error at Plivo's end. 

  3. **Sent** : A message is marked as ""Sent"" when the message is successfully passed on to the carrier for delivery. 

  4. **Delivered** : The message is delivered to the end-user (destination number).

  5. **Undelivered** : The message is marked as ""Undelivered"" depending on the delivery receipt received from the carrier. 

note

The customers are only charged for the messages which the message was sent to
the carrier for delivery, ie, Sent, Delivered, and Undelivered. The customers
are not charged for messages that are in the 'Failed' state.

The customers are only charged for the messages which the message was sent to
the carrier for delivery, ie, Sent, Delivered, and Undelivered. The customers
are not charged for messages that are in the 'Failed' state.

In order to investigate any SMS outbound delivery issue, we would need samples
(Message UUIDs) to review the issue that has been reported by our customers.
Few customers do provide us with the specific message UUIDs in the tickets but
few do not. For the customers who do not provide us with the message UUIDs, we
can try to figure out a few specific message UUIDs by fetching their MDRs. For
example, if a customer has reported ""_Few of our messages are being delivered
with a delay of 5 mins since yesterday_ "". In this case, we can fetch his MDRs
for yesterday, filter them by 'delivered', and see the number of samples that
show up. If the number of samples is less (like 10-30), we can compare the
delivery DATE column and the DELIVERY TIME column and check for the messages
that faced the delay. If the number of messages is huge, then we can reach out
to the customer asking for specific samples. Another example is if the
customer says ""Many of our messages are being marked as delivered but our
users do not receive them."" In this case, we would need to reach out to the
customer for the specific message UUIDs as we would be unable to figure out
the specific Message UUIDs that were not delivered (fake delivery).

The SMS outbound delivery issues can be broadly classified as per the delivery
statuses:

  1. Issues occurring for **delivered samples**.

  2. Issues occurring for **undelivered samples**.

  3. Issues occurring for **failed samples**.

  4. Issues occurring for samples stuck in the **sent state**. 

# Under Delivered Samples:

## 1\. SMS Delayed:

### a. Delay from Plivo/Customer:

We need to check the difference between the queued and the sent message time
and see if there is a delay in the message being sent from our platform after
it was in the queued state.

**How to check the 'queued' and 'sent' time and the delay?**

**From Debug Tool:** You can see that the delay here is 6 minutes which
occurred at our end as the delay occurred between the queued and the sent
state.

**From Logs:**

You can look for the exact timestamps of the queued time and the sent time
from OpenSearch as well as from the Server Logs in Ryuk.

  * Queue Time (OpenSearch): Filter by ""message_uuid"" and ""SMS queued to SharQ""  
In Ryuk under Plivo API:

  * Sent Time (OpenSearch): Filter by ""message_uuid"" and ""submit_sm""  
In Ryuk under Kannel:

The difference between the queued and sent time would give the delay.

For example:

From the above picture, we can see that there was a delay of 6 minutes on our
end. In such a case, we need to do the below checks:

  * If there is a delay, check the customer's MPS first. There are chances that the customer might be using a sub-account to trigger these messages, check the sub-account MPS as well (however, there are not many customers who have their MPS at a subaccount level. Most customers have their MPS set at the main account level. Also, keep in mind that the MPS for MMS and SMS are different).

  * Go to OpenSearch and search using the customer's 'AUTH_ID' or the number (in the case of the US/Canada), and see how many messages were triggered from their account/number in that particular time (you can take a range of 1 minute and see how many messages were triggered in that 1 minute). 

  * For non-US/Canada destinations, the messages would get dequeued as per the customer's MPS. Eg. Customer's SMS MPS is 5, but he's triggering 10,000 SMS per second, then there would be a delay for the messages to get dequeued.

  * Also, for the subaccounts, if the MPS is set to 3 and the MPS is set to 5 for the main account, the messages will go through 3 units per second from the sub-account triggered.

  * For US/Canada numbers, the messages would get dequeued based on the number type, i.e for long codes - 1 SMS/4sec, Tollfree - 40 SMS/sec, shortcode - 100 SMS/sec. Deque Rates' Article: _Link_

**OR**

  * We can use the Messaging Dashboard on Quicksight to get an account's MPS usage for the last 15 days.

  * If there are no issues found even after checking the above steps then try triggering an outbound message to your number and see if there's any delay.

  * We also need to check the _Plivo Status Page_ once. Otherwise, we can raise it to the MPT Team via a JIRA (_How to Create a JIRA Article_). 

### b. Delay from Carrier:

We check the difference between the sent and the delivered time and see if the
delivered time has a huge delay after the sent time.

**How to check the sent and delivered time and the delay?  **

The same way we checked the delay in the queuing time at our end as mentioned
in my previous point.

**From Debug Tool:**

**From Logs in OpenSearch (although this is not required as we can get the
exact delay time from the time graph shown above):**

  * Sent Time: Filter by ""message_uuid"" and ""submit_sm""

  * Delivered Time: Filter by ""message_uuid"" and ""deliver_sm""

The difference between the sent and delivered time would give the delay.

For example:

In the above picture, we can see that the message took 14384090 milliseconds
(4 hours) to get delivered. So there was a delay of 4 hours from our carrier's
end.

  * If the message is queued and de-queued (sent) from our end without any issue/delay, and if the message is delivered from the carrier's end after a delay, then we raise it with the carrier.

  * We can also do a quick delivery test or perform a CSG test to check the delay through carriers (if any).

  * We can also check the Plivo and Carrier status page for any notice regarding delays that might be related to the messages reported by the customer.

## 2\. Content Alteration:

This would be a case where the customer has reported an issue where the
message content sent out is different from the message content received on the
end user's device.

  * We would first need the message content that was received on the end user's device (preferably a screenshot as it would be solid proof in case we need to reach out to our carrier). 

  * Check the submit_sm's dump from OpenSearch to see what was sent from Plivo's platform. You can also find this in Ryuk under the Kannel Logs:

  * We can use this _Dump Decoder_ to decode the dump to see what message content is sent to our outbound carrier and compare it with the actual message on the end user's device. 

  * If we find that the same content received from the customer's end and the one sent from us are different, then we should work with our outbound carrier to find the cause.

note

Most of the issues happen in terms of the ""Unicode"" character. In this case,
we should always check from OpenSearch the Unicode character and convert it
into the actual character and compare if the customer has sent the same or
not. If the character has changed from our end we will have to check that with
the engineering team and if the content has not changed from our end and same
as what has been sent from the customer, then we will have to check with the
outbound carrier.

Most of the issues happen in terms of the ""Unicode"" character. In this case,
we should always check from OpenSearch the Unicode character and convert it
into the actual character and compare if the customer has sent the same or
not. If the character has changed from our end we will have to check that with
the engineering team and if the content has not changed from our end and same
as what has been sent from the customer, then we will have to check with the
outbound carrier.

Also, there are a few characters that are listed as both GSM and Unicode. In
such cases, Plivo will do a GSM encoding instead of Unicode.

There are various online tools to check the Unicode character and get the
actual character. One of the links is given below:

_Decode or Encode Unicode Text - Online Toolz_

Additionally, customers can check the number of characters present in their message content, and the number of units their content sums up to, by using the tool mentioned in this document: _Encoding and Concatenation | Plivo Developers_. 

This tool also detects the encoding type of the content and also helps detect
the Unicode characters present in the content.

**Some general queries related to SMS concatenation:**

  * If a message contains GSM characters then 160 characters would be considered as 1 unit, and any character after that would be considered as a second unit of the same long message.

  * If a message contains at least 1 Unicode character, 70 characters in the same message would be considered as 1 unit and the remaining character would be considered as the second unit.

## 3\. Sender ID Alteration:

This issue would arise when the customer reports that for his messages, the
Sender ID is being replaced at the end user's device. Follow the below steps
to debug this type of issue.

  * Ask the customer for the message UUIDs and the sender ID that has been shown on the end user's device (preferably a screenshot). 

  * Check the country the messages are being sent to and see if the customer is abiding by all the country-level regulations that are mentioned on our _SMS Coverage Page_. There are three types of countries:  
**I. Dynamic sender ID Countries:** Customers can send messages using any
sender ID to these countries, but if the messages are coming through a non-
alphanumeric sender ID, Plivo will automatically replace it with the
registered sender ID in their account.  
**II. Preregistration sender ID Countries:** For these countries, the customer
would need to register their Sender IDs from our console, in order to be able
to send messages to them.  
**III. Countries that do not support Sender IDs:** SMS will be delivered but
the sender ID used in the From number will be replaced with local numbers or
short codes or a generic code based on the country's regulation for delivery.

  * Depending on what category the country falls under and its sender ID regulations (mentioned on our SMS coverage page), we would need to check if it is expected behaviour for the Sender ID to be replaced with any other local number or a shortcode or a generic code. 

  * If it is an expected behaviour, then we can educate the customer about why his Sender ID is being replaced. 

  * If it is not expected behaviour, we would need to reach out to our outbound carrier to investigate this issue further. 

Sample Tickets:

  * Sender ID getting replaced due to operator regulation

  * Sender ID not being retained due to the country regulation

  * Sender ID getting replaced due to carrier issue

  * Unique Sender ID case for South Africa

## 4\. Fake/False Delivery Issue:

This issue would be reported by the customer when the messages are in the
delivered state but the customer claims that the messages did not reach the
end user's handset.

  * In such cases, we would need to check if the customer is sending his messages by following all the rules and regulations of the country. For example, Iran falls under DR countries which basically means that you would not have to pre-register your sender ID in order to be able to send messages to this country. The customer has reported that his messages to MCI operator numbers are being fake delivered. According to the country regulations of Iran, we would need to pre-register our SID so that we can send messages to MCI operator numbers. If the customer is found sending unregistered traffic, we need to ask him to first get his traffic registered and then let us know if the issue persists. 

  * Most of the time these issues are reported for only a single destination number. In cases like these, please request the customer to help us with samples with 2-3 unique destination numbers that faced fake delivery (The reason being, most of our carriers tend to isolate the case as a handset/end-user issue if only 1 destination number is reported. Getting more unique destination samples will help us build a stronger case with our carrier). 

  * Once we have the samples and see that the customer is abiding by the rules, reach out to the carrier and check why the messages were not delivered to the end-users, in spite of receiving a deliver_sm (delivery report/DLR). 

  * It is also a good practice to check the Plivo status page as well. 

# Under Undelivered Samples:

Each undelivered sample has a Plivo Error Code and a Carrier Error Code.
Sometimes these codes are self-explanatory and we should inform the customers
that there would not be any need to reach out to our carriers.

## 1\. SPAM Error:

### i. Blocked by Plivo (common for all countries):

Plivo has a Keyword Blocker feature available on Ryuk (https://ryuk-
vue.ovilp.io/sms/keyword_blocker/content/). This feature helps us control SPAM
by blocking messages that contain certain keywords (added on the Ryuk page) at
the Plivo level so that they do not reach the carriers.

Advantages:

  1. Better identification of accounts sending SPAM/Prohibited content.

  2. Lesser violation complaints from carriers.

Loom for reference:
https://www.loom.com/share/e354e3e561484820b0a8b5b4dc9cc14b

  * Check the carrier error code received from the messages marked as SPAM (Plivo Error Code: 30)

  * If the carrier error code is 2000, then the message was blocked by Plivo and did not reach the carrier.   
Example:

note

For the customers, on the console, this message would look exactly similar to
any normal message that was marked as SPAM by the carriers.

For the customers, on the console, this message would look exactly similar to
any normal message that was marked as SPAM by the carriers.

  * Check the message content and try to identify the keyword that raised the block.

  * We can search for the keywords under: https://ryuk-vue.ovilp.io/sms/keyword_blocker/content/

  * If the content looks to be non-spammy and the block is a false positive, we can reach out to MPT with the details for further analysis. 

  * If we are able to identify the keyword that led to the block and the content looks to be SPAM or disallowed content, inform the customer that the messages were marked as SPAM due to prohibited/SPAM content.

### ii. Blocked by Carrier:

### a.  For Non-US/Canadian countries -

We do not usually see a lot of SPAM error messages for international
messaging.  

  * Check the message sample and see if the message is sent to a valid number by checking in the lookup. See if the customer has sent messages to that number/s previously and also check the message state of those messages. 

  * We can also check the customer's message content and see if it seems like SPAM. 

  * Check if there are any Sender ID regulations towards that country if the customer is abiding by them.

  * Check if we have received a carrier error code from the carrier and also the Plivo error code. If the error code is self-explanatory, then inform the customer as to why the messages were not delivered. 

  * Otherwise, raise it with the carrier. 

### b. For  US/Canada:

  * Check the message sample and see if the message is sent to a valid number by checking in the lookup.

  * Check if the SMS content abides by the Best practices. 

  * Check the source number from which the messages were triggered.

    * For TFN:

      * Check if the number is a verified TFN or not.

      * Check the carrier error code received for the message. If it is self-explanatory, inform the customer about the same.

      * Check if the customer is using URLs in the message content. If yes, check if the URLs have multiple redirects. If yes, inform the customer. 

      * Also, check the status page of both, Plivo and Zipwhip.

      * Check the verification form submitted on the ZW portal to check if the message content matches their use case or not.

        * If it does not match and looks like SPAM, we can inform the customer that the probable reason for a SPAM block can also be when the message contents sent do not match with the use case the TFN was verified for. And reach out to the carrier for further details on the block.

        * If it matches the use case and everything looks legit, reach out to the carrier with the samples to request further clarification on the blocks.

    * For LC:

      * For the US:

        * Check the use case of the 10DLC campaign the number is linked to.

        * Check the carrier error code received for the message. If it is self-explanatory, inform the customer about the same.

        * If the use case looks the same as the message content of the message, reach out to the carrier for further explanation.

      * For CA:

        * Check the message content and see if there is any presence of SPAM/prohibited words or if they're following the best practices for US/CA messaging or not.

        * Check the carrier error code received for the message. If it is self-explanatory, inform the customer about the same.

        * Reach out to the carrier for further clarification.

    * For SC:

      * The steps are the same as TFN.

      * We can get the campaign details for the SC from the carrier's console.

Sometimes messages are blocked as SPAM on TFs, even for verified genuine cases
i.e., False Positives. Zipwhip removes the block after verifying the reported
messages.

As per Zipwhip, cases are marked as spam if they observe a slight variation in
content, or if the message strays away from general messaging best practices,
or if the customer is using words that match already existing SPAM messages
that have been verified and blocked as SPAM. In such cases, a content-based
fingerprint is triggered at ZW's SPAM platform.

Some common scenarios where verified traffic can be marked as SPAM:

  * Sending party ambiguity,

  * Lack of opt-out keywords,

  * The similarity in content to other SPAM campaigns. (For example, phrases like ""your home insurance quotes are ready!"", ""We just shopped your auto insurance. View your quotes here"" are commonly considered 'auto insurance' spam campaigns. Adding a company name and opt-out keywords can resolve the issue.)

## 2\. Unknown Error:

  * Check if the customer is adhering to all the country and Sender ID regulations. 

  * If we do not see any reason for the message failure, we can reach out to the carrier to find the root cause of the delivery failure.  

    * We also need to ask the carrier for the reason for the error representing the specific carrier error code. 

    * Once we have the carrier error code information, we need to raise an MPT to get the carrier error code mapped. 

## 3\. Invalid Destination Number:

  * If the customer's messages are undelivered because of error code 50, then it means that the customer is sending SMS to invalid destination numbers, or not SMS-enabled numbers, or to PSTN landline.

  * In order to avoid this, we can suggest the customer enable _Enhanced Destination Number Validation_ from his console. When enabled, messages to invalid numbers and numbers that are not SMS-enabled will be rejected. Plivo API will return a 400 Bad Request HTTP response for such requests.

  * Before informing the customer about the above point , we can check in Ryuk (under Additional Feature) if this feature is already enabled for the customer or not. 

  * However, if the Destination Number Validation is already enabled for the customer but still he is getting an unusually very high number of this error code and he claims that the messages are being sent to the correct destination numbers, we can make an exception and report this issue to our carrier for further validation. 

## 4\. Other Error Codes:  

  * Messages undelivered with any other Each undelivered sample has a Plivo Error Code and a Carrier Error Code. Sometimes these codes are self-explanatory and we should inform the customers and there would not be any need to reach out to our carriers. 

  * In case we need additional clarity, we can reach out to the carrier. 

# Under Sent Samples:

These are messages for which we do not receive any DLRs from the carriers. We
can follow the below steps for this issue:

  * If a customer reports that the messages are in the Sent state, check if delivery receipts/reports are supported towards the country reported from our _SMS Coverage Page_. 

  * If the customer is following the country's regulations or not.

  * If delivery reports/receipts are supported, then reach out to the carrier by helping them with the message samples. 

  * If the delivery reports are not supported for that country, we can educate the customer about the same. 

  * Also, check with the customer if the messages have reached the handset or not. If not reached, then you would have to reach out to the carrier. 

  * For the messages being sent out from Plivo source numbers (source-based routing) (Countries: US, Canada):

    * Check if all the messages from that particular source number are facing this issue. 

      * If yes:

        * Check the number configuration from Ryuk and see if the SMS capabilities are correctly marked and mapped. 

        * Check the carrier website to see if the number is active and in service. 

        * If everything looks fine, we need to reach out to the carrier who owns the number. 

      * If no: 

        * We can directly reach out to the carrier involved. 

# Under Failed Samples:

## 1\. Messages failing with Plivo Error Code 300(towards US/Canada):

  * In such cases, go to Ryuk and check the Gotham logs. 

  * Check if you find a reason for the failure of the messages by going through the logs. Usually, you can figure out the issue through the logs themselves. 

  * Example of one such error: ""Could not get source-based routing: No gateway ID or gateway name found in config"". 

  * In such cases, raise the issue with the SMS Team.

  * Sometimes, SMS/MMS fail to be dispatched from our end due to connectivity issues with the carrier - one such example is Syniverse:  
{""level"":""error"",""ts"":""2020-09-10T17:26:38Z"",""caller"":""gandalf/service.go:97"",""msg"":""ERROR
EXECUTING
sendToCarrier()"",""message_uuid"":""16ac360c-f389-11ea-93ef-0242ac110003"",""error"":""error
while creating smtp connection to host: 173.209.201.146, port: 25: dial tcp
173.209.201.146:25: i/o
timeout"",""carrier_id"":""16772250647484"",""carrier_name"":""Syniverse_Premium_OTP"",""stacktrace"":""github.com/plivo/gandalf/internal/gandalf.(*InternalService).sendMessage\n\t/home/ubuntu/workspace/plivo_gandalf_master/src/github.com/plivo/gandalf/internal/gandalf/service.go:97""}  
In such cases, please reach out to the engineering team immediately.

## 2\. SMS Failure due to Pricing issue (We would get error code 90 for such
cases):

  * This issue is not very commonly seen. 

  * Check if the customer has credits. 

  * Check if messages to other countries are going through from their account without any issues.

  * If no issue in the above 2 conditions, go to Ryuk and check the Gotham logs of the message sample. 

  * Check the error reason mentioned in Gotham

  * If the following error is seen: ""No rate/prefix matching dst number: Could not find outgoing SMS charge for groupid= ****. Error: record not found (404)"", then this means to say that there is no pricing updated for that particular SMS Group ID/Name

  * To debug this error, go to the SMS configuration -> Outbound SMS group in Ryuk and filter by the country the customer is facing the issue with. Check the SMS group name associated with that particular SMS group ID. 

  * Then go to, Outbound SMS Pricing, and check for the country the customer is facing an issue. Check-in global pricing if the customer is on the Standard Product Plan, or if the customer has a custom product plan, then check under the Product Plan Pricing Tab. This step is performed to check if there is any pricing associated with that SMS Group Name. 

  * Check if there is pricing updated for that SMS Group. If not, then reach out to the concerned team.

  * Also, the MCC and MNC need to be mapped to the outgoing SMS group. To check if it is mapped to the SMS group name, navigate _here_. If it is not mapped, reach out to the concerned team.

## 3\. Geo-Permissions:

  * This error code is pretty simple and straightforward. If the customer reports that his messages are failing with the error code 450, this means that the Geo-Permissions for that country for their account were disabled at the time the message was triggered. 

  * To verify the current status of Geo-Permissions, we can use Ryuk: https://ryuk-vue.ovilp.io/sms/sms-geo-permissions/home

  * If it is disabled, ask the customer to enable his SMS geo-permissions for that country from his Plivo console (https://console.plivo.com/sms/settings/fraud-shield/) in order to send messages. 

# Miscellaneous Delivery Issue:

## 1\. Sandbox Issue:

  * This type of issue would fail at an API level. 

  * If a customer is on a free trial/developer account, it is mandatory for him to sandbox the destination number to which he wishes to send an SMS.

  * On Ryuk, under,_account settings_ you would be able to check the destination numbers the customer has sandboxed.

  * If they have not sandboxed the destination number, then we need to educate them about the same. 

  * Link to navigate to the sandbox numbers page: _https://console.plivo.com/phone-numbers/sandbox-numbers/_

  * The customer can sandbox only 5 numbers. They cannot delete any of the sandboxed numbers.

## 2\. US source number not mapped to a 10DLC campaign.

  * This type of issue would fail at an API level. 

  * This would happen when a customer is sending a message to the US and their Plivo US source number is not 10DLC linked. 

  * Check if the customer has any active 10DLC campaigns from https://ryuk-vue.ovilp.io/sms/10dlc/campaigns/

  * If he does not, inform the customer that we would need to register for 10DLC and link his US local number to an active campaign in order to send messages to the US. 

  * If he does, ask the customer to link their US local number to an appropriate campaign depending on their use case. 

# Sample Tickets:

  * https://plivo.zendesk.com/agent/tickets/19048 \- Fake Delivery & Unknown Error Issue. 

  * https://plivo.zendesk.com/agent/tickets/22939 \- Undelivered Samples & Sent Samples. 

  * https://plivo.zendesk.com/agent/tickets/22781 \- Unknow Error Issue. 

  * https://plivo.zendesk.com/agent/tickets/201420 \- Sent State Samples. 

  * https://plivo.zendesk.com/agent/tickets/182075 \- Invalid Dst Number. 

  * https://plivo.zendesk.com/agent/tickets/78602 \- Fake Delivery.

  * https://plivo.zendesk.com/agent/tickets/128798 \- SPAM Error.

"